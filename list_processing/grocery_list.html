<body>
  <script>
    function buyFruit(array) {
      return array.reduce(function (result, fruit) {
        return result.concat(repeat(fruit));
      }, []);
    }
    
    function repeat(array) {
      var result = [];
      var i = array[1];
      
      while(i > 0) {
        result.push(array[0]);
        i -= 1;
      }
      return result;
    }
    
    console.log(buyFruit([['apple', 3], ['orange', 1], ['banana', 2]]));
  </script>
</body>
